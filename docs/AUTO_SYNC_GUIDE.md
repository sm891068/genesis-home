# ğŸš€ è‡ªå‹•åŒæ­¥ç³»çµ±ä½¿ç”¨èªªæ˜

## ğŸ“‹ æ¦‚è¿°

æœ¬ç³»çµ±æä¾›ä¸‰ç¨®æ–¹å¼è‡ªå‹•åŒæ­¥ `harem-ai-library.js` åˆ° GitHubï¼š

1. **æ‰‹å‹•è…³æœ¬åŸ·è¡Œ** - æœ¬åœ°é‹è¡Œ Node.js è…³æœ¬
2. **npm å‘½ä»¤** - ä½¿ç”¨ package.json å®šç¾©çš„å‘½ä»¤
3. **GitHub Actions** - è‡ªå‹•è§¸ç™¼çš„ CI/CD æµç¨‹

---

## ğŸ› ï¸ æ–¹æ³•ä¸€ï¼šæ‰‹å‹•è…³æœ¬åŸ·è¡Œ

### ä½¿ç”¨æ­¥é©Ÿ

1. **ç¢ºä¿æ–‡ä»¶å·²ä¿®æ”¹**
   ```bash
   # æª¢æŸ¥ Git ç‹€æ…‹
   git status
   
   # æ‡‰è©²çœ‹åˆ° static/data/harem-ai-library.js å·²ä¿®æ”¹
   ```

2. **åŸ·è¡ŒåŒæ­¥è…³æœ¬**
   ```bash
   node scripts/auto-sync-harem-ai.js
   ```

3. **æŸ¥çœ‹åŸ·è¡Œçµæœ**
   ```
   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘     å¾Œå®®AIè§’è‰²åº« - è‡ªå‹•åŒæ­¥ç³»çµ±                            â•‘
   â•‘     Harem AI Library - Auto-Sync System                   â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   
   ğŸ“‚ æª¢æŸ¥æ–‡ä»¶ä¿¡æ¯...
   ============================================================
   ğŸ“Š åŒæ­¥æ‘˜è¦
   ============================================================
   æ–‡ä»¶: static/data/harem-ai-library.js
   è§’è‰²æ•¸é‡: 10 ä½
   æ–‡ä»¶å¤§å°: 53.63 KB
   æœ€å¾Œä¿®æ”¹: 2026-02-19 ...
   ============================================================
   
   ğŸ“Š æª¢æŸ¥ Git ç‹€æ…‹...
   âœ“ æª¢æ¸¬åˆ° static/data/harem-ai-library.js æœ‰æ›´æ”¹
   
   ğŸ“ æäº¤æ›´æ”¹...
   âœ“ å·²æ·»åŠ  static/data/harem-ai-library.js
   âœ“ æäº¤æˆåŠŸ
   
   ğŸš€ æ¨é€åˆ° GitHub...
   ç•¶å‰åˆ†æ”¯: copilot/update-harem-ai-library
   âœ“ æ¨é€æˆåŠŸ
   
   ============================================================
   ğŸ‰ åŒæ­¥å®Œæˆï¼
   ============================================================
   âœ“ static/data/harem-ai-library.js å·²æˆåŠŸåŒæ­¥åˆ° GitHub
   âœ“ åŒ…å« 10 ä½è§’è‰²çš„å®Œæ•´AIè³‡æ–™
   âœ“ æ‚¨å¯ä»¥åœ¨ GitHub ä¸ŠæŸ¥çœ‹æœ€æ–°æäº¤
   ============================================================
   ```

### è…³æœ¬ç‰¹æ€§

- âœ… è‡ªå‹•æª¢æ¸¬æ–‡ä»¶è®Šæ›´
- âœ… çµ±è¨ˆè§’è‰²æ•¸é‡å’Œæ–‡ä»¶å¤§å°
- âœ… ç”Ÿæˆè©³ç´°çš„æäº¤è¨Šæ¯
- âœ… å½©è‰²çµ‚ç«¯è¼¸å‡º
- âœ… å®Œæ•´çš„éŒ¯èª¤è™•ç†
- âœ… è‡ªå‹•æ¨é€åˆ°ç•¶å‰åˆ†æ”¯

---

## ğŸ“¦ æ–¹æ³•äºŒï¼šä½¿ç”¨ npm å‘½ä»¤

### å¿«é€Ÿä½¿ç”¨

```bash
# åŒæ­¥ harem-ai-library.js
npm run sync:harem-ai

# æˆ–è€…åªé©—è­‰èªæ³•
npm run sync:harem-ai:check
```

### é…ç½®èªªæ˜

åœ¨ `package.json` ä¸­å·²æ·»åŠ ä»¥ä¸‹å‘½ä»¤ï¼š

```json
{
  "scripts": {
    "sync:harem-ai": "node scripts/auto-sync-harem-ai.js",
    "sync:harem-ai:check": "node -c static/data/harem-ai-library.js && echo 'âœ“ Syntax OK'"
  }
}
```

### ä½¿ç”¨å ´æ™¯

- âœ… é–‹ç™¼éç¨‹ä¸­å¿«é€ŸåŒæ­¥
- âœ… é›†æˆåˆ°å…¶ä»– npm è…³æœ¬ä¸­
- âœ… ä½œç‚º git hooks çš„ä¸€éƒ¨åˆ†

---

## âš™ï¸ æ–¹æ³•ä¸‰ï¼šGitHub Actions è‡ªå‹•åŒæ­¥

### å·¥ä½œåŸç†

ç•¶ä½ æ¨é€åŒ…å« `harem-ai-library.js` ä¿®æ”¹çš„æäº¤æ™‚ï¼ŒGitHub Actions æœƒè‡ªå‹•ï¼š

1. æª¢æ¸¬æ–‡ä»¶è®Šæ›´
2. é©—è­‰ JavaScript èªæ³•
3. çµ±è¨ˆè§’è‰²æ•¸é‡
4. ç”ŸæˆåŒæ­¥å ±å‘Š
5. åœ¨ Actions é é¢é¡¯ç¤ºçµæœ

### é…ç½®æ–‡ä»¶

ä½æ–¼ `.github/workflows/auto-sync-harem-ai.yml`

### è§¸ç™¼æ¢ä»¶

```yaml
on:
  push:
    paths:
      - 'static/data/harem-ai-library.js'
    branches:
      - main
      - develop
  workflow_dispatch:  # å…è¨±æ‰‹å‹•è§¸ç™¼
```

### æ‰‹å‹•è§¸ç™¼

1. å‰å¾€ GitHub å€‰åº«
2. é»æ“Š "Actions" æ¨™ç±¤
3. é¸æ“‡ "Auto-Sync Harem AI Library"
4. é»æ“Š "Run workflow"

### æŸ¥çœ‹åŸ·è¡Œçµæœ

1. **åœ¨ Actions é é¢**
   - å‰å¾€ https://github.com/sm891068/genesis-home/actions
   - æŸ¥çœ‹æœ€æ–°çš„å·¥ä½œæµç¨‹åŸ·è¡Œ

2. **æŸ¥çœ‹æ‘˜è¦å ±å‘Š**
   - é»æ“Šå·¥ä½œæµç¨‹åŸ·è¡Œ
   - æŸ¥çœ‹ "Summary" éƒ¨åˆ†
   - æœƒé¡¯ç¤ºè§’è‰²çµ±è¨ˆã€æ–‡ä»¶å¤§å°ç­‰ä¿¡æ¯

### Actions è¼¸å‡ºç¯„ä¾‹

```
## ğŸ® å¾Œå®®AIè§’è‰²åº«åŒæ­¥å ±å‘Š

### ğŸ“Š çµ±è¨ˆä¿¡æ¯
- **è§’è‰²ç¸½æ•¸**: 10 ä½
- **æ–‡ä»¶å¤§å°**: 54 KB
- **åŒæ­¥æ™‚é–“**: 2026-02-19 05:25:07
- **åˆ†æ”¯**: copilot/update-harem-ai-library
- **æäº¤**: 6bb6d01...

### âœ… é©—è­‰ç‹€æ…‹
- [x] æ–‡ä»¶å­˜åœ¨æª¢æŸ¥
- [x] JavaScript èªæ³•é©—è­‰
- [x] è§’è‰²æ•¸é‡çµ±è¨ˆ

### ğŸ¯ åŒ…å«çš„è§’è‰²ç¨€æœ‰åº¦
- **LR (å‚³èªª)**: 1ä½ - ç‰ç’ƒå¥³ç‹
- **UR (ç©¶æ¥µ)**: 2ä½ - ç´…å§ã€å†°å¿ƒ
- **SSR (ç‰¹ç´š)**: 4ä½ - ç™½ç´ã€ç®—ç›¤æ—ã€å¦–å§¬ã€ç¾…å¥ˆç±³
- **SR (ç¨€æœ‰)**: 2ä½ - æ«»èŠ±ã€é»‘å¯¡å©¦
- **R (ç²¾è‰¯)**: 1ä½ - å°ç´…
```

---

## ğŸ”§ é…ç½®é¸é …

### ä¿®æ”¹åŒæ­¥è…³æœ¬é…ç½®

ç·¨è¼¯ `scripts/auto-sync-harem-ai.js` ä¸­çš„ CONFIG å°è±¡ï¼š

```javascript
const CONFIG = {
  targetFile: 'static/data/harem-ai-library.js',  // ç›®æ¨™æ–‡ä»¶
  commitPrefix: '[AUTO-SYNC]',                     // æäº¤å‰ç¶´
  branch: 'main',                                  // ç›®æ¨™åˆ†æ”¯
  remoteName: 'origin'                             // é ç¨‹å€‰åº«åç¨±
};
```

### ä¿®æ”¹ GitHub Actions é…ç½®

ç·¨è¼¯ `.github/workflows/auto-sync-harem-ai.yml`ï¼š

```yaml
# ä¿®æ”¹è§¸ç™¼è·¯å¾‘
on:
  push:
    paths:
      - 'your/custom/path/**'
    
# ä¿®æ”¹ Node.js ç‰ˆæœ¬
- uses: actions/setup-node@v4
  with:
    node-version: '18'  # æ”¹ç‚ºä½ éœ€è¦çš„ç‰ˆæœ¬
```

---

## ğŸš¨ æ•…éšœæ’é™¤

### å•é¡Œ1: è…³æœ¬ç„¡æ³•åŸ·è¡Œ

**éŒ¯èª¤**: `Permission denied`

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
chmod +x scripts/auto-sync-harem-ai.js
```

### å•é¡Œ2: Git æ¨é€å¤±æ•—

**éŒ¯èª¤**: `Permission denied (publickey)` æˆ– `Authentication failed`

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æª¢æŸ¥ Git é…ç½®
git config --list

# ç¢ºèªé ç¨‹å€‰åº«
git remote -v

# å¦‚æœéœ€è¦ï¼Œé‡æ–°è¨­ç½®é ç¨‹å€‰åº«
git remote set-url origin https://github.com/sm891068/genesis-home.git
```

### å•é¡Œ3: èªæ³•é©—è­‰å¤±æ•—

**éŒ¯èª¤**: `SyntaxError: ...`

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# ä½¿ç”¨ Node.js æª¢æŸ¥èªæ³•
node -c static/data/harem-ai-library.js

# æˆ–ä½¿ç”¨ npm script
npm run sync:harem-ai:check
```

### å•é¡Œ4: GitHub Actions ä¸è§¸ç™¼

**å¯èƒ½åŸå› **:
1. Actions æœªå•Ÿç”¨
2. æ–‡ä»¶è·¯å¾‘ä¸åŒ¹é…
3. åˆ†æ”¯æ¢ä»¶ä¸æ»¿è¶³

**è§£æ±ºæ–¹æ¡ˆ**:
1. å‰å¾€ Settings â†’ Actions â†’ ç¢ºä¿ Actions å·²å•Ÿç”¨
2. æª¢æŸ¥ `.github/workflows/auto-sync-harem-ai.yml` ä¸­çš„è·¯å¾‘
3. ç¢ºèªæ¨é€çš„åˆ†æ”¯åœ¨è§¸ç™¼æ¢ä»¶ä¸­

### å•é¡Œ5: æ²’æœ‰æª¢æ¸¬åˆ°æ–‡ä»¶æ›´æ”¹

**éŒ¯èª¤**: `âš  harem-ai-library.js æ²’æœ‰æ›´æ”¹`

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# ç¢ºèªæ–‡ä»¶ç¢ºå¯¦è¢«ä¿®æ”¹
git status

# å¦‚æœæ–‡ä»¶æœªè¢«è¿½è¹¤
git add static/data/harem-ai-library.js

# ç„¶å¾Œå†æ¬¡é‹è¡ŒåŒæ­¥è…³æœ¬
npm run sync:harem-ai
```

---

## ğŸ“š æœ€ä½³å¯¦è¸

### 1. é–‹ç™¼æµç¨‹å»ºè­°

```bash
# 1. ä¿®æ”¹è§’è‰²æ•¸æ“š
vim static/data/harem-ai-library.js

# 2. é©—è­‰èªæ³•
npm run sync:harem-ai:check

# 3. æœ¬åœ°æ¸¬è©¦
node test-harem-ai.js

# 4. åŒæ­¥åˆ° GitHub
npm run sync:harem-ai
```

### 2. åœ˜éšŠå”ä½œå»ºè­°

- âœ… ä¿®æ”¹å‰å…ˆæ‹‰å–æœ€æ–°ä»£ç¢¼: `git pull`
- âœ… æ¯æ¬¡ä¿®æ”¹éƒ½é©—è­‰èªæ³•
- âœ… æäº¤å‰é‹è¡Œæ¸¬è©¦è…³æœ¬
- âœ… ä½¿ç”¨æè¿°æ€§çš„æäº¤è¨Šæ¯

### 3. ç‰ˆæœ¬ç®¡ç†å»ºè­°

- âœ… ç‚ºé‡å¤§æ›´æ–°å‰µå»ºæ–°åˆ†æ”¯
- âœ… ä½¿ç”¨ Pull Request é€²è¡Œä»£ç¢¼å¯©æŸ¥
- âœ… åˆä½µå‰ç¢ºä¿æ‰€æœ‰æ¸¬è©¦é€šé
- âœ… å®šæœŸå‚™ä»½é‡è¦ç‰ˆæœ¬

---

## ğŸ¯ é€²éšä½¿ç”¨

### é›†æˆåˆ° Git Hooks

å‰µå»º `.git/hooks/pre-commit`:

```bash
#!/bin/bash
# åœ¨æäº¤å‰è‡ªå‹•é©—è­‰èªæ³•

if git diff --cached --name-only | grep -q "static/data/harem-ai-library.js"; then
  echo "æª¢æ¸¬åˆ° harem-ai-library.js è®Šæ›´ï¼Œæ­£åœ¨é©—è­‰èªæ³•..."
  npm run sync:harem-ai:check
  if [ $? -ne 0 ]; then
    echo "âŒ èªæ³•é©—è­‰å¤±æ•—ï¼Œè«‹ä¿®å¾©å¾Œå†æäº¤"
    exit 1
  fi
  echo "âœ… èªæ³•é©—è­‰é€šé"
fi
```

ç„¶å¾Œæ·»åŠ åŸ·è¡Œæ¬Šé™:
```bash
chmod +x .git/hooks/pre-commit
```

### è‡ªå‹•åŒ–æ¸¬è©¦é›†æˆ

åœ¨ GitHub Actions ä¸­æ·»åŠ æ¸¬è©¦æ­¥é©Ÿï¼š

```yaml
- name: é‹è¡Œæ¸¬è©¦
  run: |
    node test-harem-ai.js
    # æ·»åŠ æ›´å¤šæ¸¬è©¦...
```

### é€šçŸ¥é›†æˆ

åœ¨åŒæ­¥æˆåŠŸå¾Œç™¼é€é€šçŸ¥ï¼ˆéœ€è¦é…ç½® webhookï¼‰ï¼š

```javascript
// åœ¨ scripts/auto-sync-harem-ai.js ä¸­æ·»åŠ 
function sendNotification(message) {
  // ç™¼é€åˆ° Discordã€Slack ç­‰
}
```

---

## ğŸ“– ç›¸é—œæ–‡æª”

- ğŸ“˜ [é–‹ç™¼æ–‡æª”](./HAREM_AI_LIBRARY.md)
- ğŸ“— [æ¸¬è©¦æ‰‹å†Š](./TESTING_MANUAL.md)
- ğŸ“• [å¾Œå®®ç³»çµ±èªªæ˜](./HAREM_SYSTEM.md)
- ğŸ“™ [è§’è‰²åœ–é‘‘](../CHARACTERS.md)

---

## ğŸ†˜ éœ€è¦å¹«åŠ©ï¼Ÿ

- ğŸ’¬ æäº¤ Issue: https://github.com/sm891068/genesis-home/issues
- ğŸ“§ è¯ç¹«ç¶­è­·è€…: sm891068
- ğŸ“š æŸ¥çœ‹æ–‡æª”: `docs/` ç›®éŒ„

---

**æœ€å¾Œæ›´æ–°**: 2026-02-19  
**ç‰ˆæœ¬**: v1.0.0  
**ç¶­è­·è€…**: sm891068
