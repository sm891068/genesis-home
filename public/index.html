<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é»‘é“å»ºç¯‰ Underworld Architect</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --gold: #d4af37;
            --gold-light: #f4d03f;
            --gold-dark: #b8941f;
            --gold-glow: rgba(212, 175, 55, 0.3);
            --red: #ff2e63;
            --blue: #3498db;
            --bg: #0a0e27;
            --bg-light: #151a35;
            --panel: rgba(10, 14, 39, 0.98);
            --text: #e8e8e8;
            --gray: #888;
            --border: rgba(212, 175, 55, 0.2);
        }
        
        body {
            font-family: 'Noto Serif TC', serif;
            background: var(--bg);
            color: var(--text);
            height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        /* ========== ä¸‹é›¨å‹•ç•« ========== */
        .rain {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }
        
        .raindrop {
            position: absolute;
            width: 2px;
            height: 20px;
            background: linear-gradient(transparent, rgba(212, 175, 55, 0.3));
            animation: fall linear infinite;
        }
        
        @keyframes fall {
            to { transform: translateY(100vh); }
        }
        
        /* ========== ä¸»é¸å–®å®¹å™¨ ========== */
        #main-menu {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            position: relative;
            z-index: 10;
            background: radial-gradient(ellipse at center, rgba(212,175,55,0.05) 0%, transparent 70%);
        }
        
        .logo {
            font-size: 48px;
            font-weight: 900;
            color: var(--gold);
            text-shadow: 0 0 30px var(--gold-glow), 0 0 60px var(--gold-glow);
            margin-bottom: 20px;
            animation: glow 3s ease-in-out infinite;
            font-family: 'Noto Serif TC', serif;
            letter-spacing: 4px;
        }
        
        @keyframes glow {
            0%, 100% { text-shadow: 0 0 30px var(--gold-glow), 0 0 60px var(--gold-glow); }
            50% { text-shadow: 0 0 40px var(--gold-glow), 0 0 80px var(--gold-glow), 0 0 100px rgba(212,175,55,0.1); }
        }
        
        .subtitle {
            font-size: 18px;
            color: var(--gray);
            margin-bottom: 60px;
            letter-spacing: 2px;
        }
        
        .menu-buttons {
            display: flex;
            flex-direction: column;
            gap: 16px;
            min-width: 320px;
        }
        
        .menu-btn {
            padding: 18px 40px;
            background: linear-gradient(135deg, rgba(212,175,55,0.15), rgba(212,175,55,0.05));
            border: 2px solid var(--gold-dark);
            color: var(--text);
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            border-radius: 12px;
            transition: all 0.3s;
            font-family: 'Noto Serif TC', serif;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .menu-btn::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, transparent, rgba(212,175,55,0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.5s;
        }
        
        .menu-btn:hover::before {
            transform: translateX(100%);
        }
        
        .menu-btn:hover {
            background: linear-gradient(135deg, rgba(212,175,55,0.3), rgba(212,175,55,0.1));
            border-color: var(--gold);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(212,175,55,0.3);
        }
        
        .menu-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            background: rgba(255,255,255,0.05);
            border-color: var(--gray);
        }
        
        .menu-btn:disabled:hover {
            transform: none;
            box-shadow: none;
        }
        
        .footer-info {
            position: fixed;
            bottom: 20px;
            text-align: center;
            width: 100%;
            font-size: 12px;
            color: var(--gray);
            z-index: 10;
        }
        
        /* ========== Toast æ¨£å¼ ========== */
        .toast {
            position: fixed;
            top: 70px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.95);
            border: 1.5px solid var(--gold);
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            box-shadow: 0 0 30px var(--gold-glow);
        }
        
        .toast.show { opacity: 1; }
        
        .toast.success { border-color: #27ae60; }
        .toast.error { border-color: #e74c3c; }
        .toast.warning { border-color: #f39c12; }
        
        /* ========== éŸ¿æ‡‰å¼è¨­è¨ˆ ========== */
        @media (max-width: 768px) {
            .logo { font-size: 36px; }
            .subtitle { font-size: 14px; margin-bottom: 40px; }
            .menu-buttons { min-width: 280px; gap: 12px; }
            .menu-btn { padding: 16px 32px; font-size: 16px; }
        }
        
        @media (max-width: 480px) {
            .logo { font-size: 28px; }
            .subtitle { font-size: 12px; margin-bottom: 30px; }
            .menu-buttons { min-width: 240px; gap: 10px; }
            .menu-btn { padding: 14px 28px; font-size: 14px; }
        }
    </style>
</head>
<body>
    <!-- ä¸‹é›¨å‹•ç•«å®¹å™¨ -->
    <div class="rain" id="rain"></div>

    <!-- Toast æç¤º -->
    <div id="toast" class="toast"></div>

    <!-- ä¸»é¸å–® -->
    <div id="main-menu">
        <div class="logo">é»‘é“å»ºç¯‰</div>
        <div class="subtitle">UNDERWORLD ARCHITECT</div>
        
        <div class="menu-buttons">
            <button class="menu-btn" onclick="menuController.newGame()">
                ğŸ†• æ–°çš„å‚³æ‰¿
            </button>
            <button class="menu-btn" id="continue-btn" onclick="menuController.continueGame()" disabled>
                â–¶ï¸ ç¹¼çºŒéŠæˆ²
            </button>
            <button class="menu-btn" onclick="menuController.showPartnerGallery()">
                ğŸ“– å¤¥ä¼´åœ–é‘‘
            </button>
            <button class="menu-btn" onclick="menuController.showAchievements()">
                ğŸ† æˆå°±æ®¿å ‚
            </button>
            <button class="menu-btn" onclick="menuController.showSettings()">
                âš™ï¸ è¨­å®š
            </button>
        </div>
        
        <div class="footer-info">
            Version 1.0.0 | Made with â¤ï¸ by Your Studio
        </div>
    </div>

    <!-- çˆ¶è¦ªå°è©±ç•«é¢ -->
    <div id="father-dialogue" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 1000; display: flex; align-items: center; justify-content: center; flex-direction: column; padding: 40px;">
        <div style="max-width: 800px; text-align: center;">
            <div style="font-size: 60px; margin-bottom: 20px;">ğŸ‘”</div>
            <h2 style="color: var(--gold); font-size: 32px; margin-bottom: 30px;">é¾çˆºçš„éºè¨€</h2>
            <div id="dialogue-text" style="font-size: 20px; line-height: 2; color: var(--text); min-height: 200px; padding: 30px; background: rgba(212,175,55,0.1); border: 2px solid var(--border); border-radius: 10px;">
            </div>
            <div id="dialogue-timer" style="margin-top: 20px; color: var(--gray); font-size: 16px;"></div>
        </div>
    </div>

    <!-- å…­è·¯ç·šé¸æ“‡ç•«é¢ -->
    <div id="route-selection" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 1000; overflow-y: auto; padding: 40px;">
        <div style="max-width: 1200px; margin: 0 auto;">
            <h2 style="color: var(--gold); font-size: 36px; text-align: center; margin-bottom: 20px;">é¸æ“‡ä½ çš„é“è·¯</h2>
            <p style="text-align: center; color: var(--gray); margin-bottom: 40px; font-size: 18px;">æ¯æ¢è·¯ç·šéƒ½æœ‰ç¨ç‰¹çš„åŠ æˆèˆ‡æŒ‘æˆ°</p>
            
            <div id="routes-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin-bottom: 40px;">
                <!-- è·¯ç·šå¡ç‰‡å°‡ç”± JavaScript ç”Ÿæˆ -->
            </div>
            
            <div style="text-align: center;">
                <button onclick="menuController.cancelRouteSelection()" style="padding: 15px 40px; background: rgba(255,255,255,0.1); border: 2px solid var(--border); color: var(--text); font-size: 18px; cursor: pointer; border-radius: 8px; transition: all 0.3s;">
                    â† è¿”å›ä¸»é¸å–®
                </button>
            </div>
        </div>
    </div>

    <!-- å¹«æ´¾å‘½åç•«é¢ -->
    <div id="naming-screen" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 1100; display: flex; align-items: center; justify-content: center;">
        <div style="background: var(--panel); padding: 50px; border: 3px solid var(--gold); border-radius: 15px; max-width: 500px; text-align: center;">
            <h2 style="color: var(--gold); font-size: 32px; margin-bottom: 30px;">å»ºç«‹ä½ çš„å¸åœ‹</h2>
            <div style="margin-bottom: 25px;">
                <label style="display: block; color: var(--text); margin-bottom: 10px; font-size: 18px;">å¹«æ´¾åç¨±</label>
                <input id="gang-name-input" type="text" placeholder="ä¾‹å¦‚ï¼šé¾é–€å¹«" maxlength="8" style="width: 100%; padding: 15px; font-size: 20px; text-align: center; background: rgba(255,255,255,0.1); border: 2px solid var(--border); color: var(--text); border-radius: 8px;" />
            </div>
            <div style="margin-bottom: 35px;">
                <label style="display: block; color: var(--text); margin-bottom: 10px; font-size: 18px;">ä½ çš„ç¨±è™Ÿ</label>
                <input id="player-name-input" type="text" placeholder="ä¾‹å¦‚ï¼šè€å¤§" maxlength="6" style="width: 100%; padding: 15px; font-size: 20px; text-align: center; background: rgba(255,255,255,0.1); border: 2px solid var(--border); color: var(--text); border-radius: 8px;" />
            </div>
            <button onclick="menuController.confirmNaming()" style="padding: 18px 60px; background: linear-gradient(135deg, var(--gold), var(--gold-dark)); border: none; color: #000; font-size: 20px; font-weight: bold; cursor: pointer; border-radius: 8px; transition: all 0.3s; box-shadow: 0 4px 15px var(--gold-glow);">
                é–‹å§‹å‚³æ‰¿ ğŸ¯
            </button>
            <button onclick="menuController.cancelNaming()" style="margin-top: 15px; padding: 12px 30px; background: transparent; border: 2px solid var(--border); color: var(--text); font-size: 16px; cursor: pointer; border-radius: 8px; display: block; width: 100%;">
                å–æ¶ˆ
            </button>
        </div>
    </div>

    <!-- è¼‰å…¥æ ¸å¿ƒè…³æœ¬ -->
    <script src="/static/core/game-state.js"></script>
    <script src="/static/ui/shared-ui.js"></script>
    <script src="/static/routes-data.js"></script>
    <script src="/static/partner-data.js"></script>
    <script src="/static/data/ai-personality.js"></script>
    <script src="/static/data/ai-character-logic.js"></script>

    <script>
    // ========== ä¸»é¸å–®æ§åˆ¶å™¨ ==========
    const menuController = {
        selectedRoute: null,
        
        init() {
            console.log('[MainMenu] åˆå§‹åŒ–ä¸»é¸å–®');
            
            // æª¢æŸ¥æ˜¯å¦æœ‰å­˜æª”
            this.updateContinueButton();
            
            // åˆå§‹åŒ–ä¸‹é›¨å‹•ç•«
            this.initRain();
        },

        // æ›´æ–°ç¹¼çºŒæŒ‰éˆ•ç‹€æ…‹
        updateContinueButton() {
            const btn = document.getElementById('continue-btn');
            const latestSave = GameState.getLatestSave();
            
            if (latestSave) {
                btn.disabled = false;
                btn.textContent = `â–¶ï¸ ç¹¼çºŒéŠæˆ² (Day ${latestSave.day})`;
            } else {
                btn.disabled = true;
                btn.textContent = 'â–¶ï¸ ç¹¼çºŒéŠæˆ²';
            }
        },

        // æ–°éŠæˆ² - å•Ÿå‹•çˆ¶è¦ªå°è©±
        newGame() {
            this.showFatherDialogue();
        },

        // é¡¯ç¤ºçˆ¶è¦ªå°è©±ï¼ˆ12ç§’ï¼‰
        showFatherDialogue() {
            const dialogue = document.getElementById('father-dialogue');
            const dialogueText = document.getElementById('dialogue-text');
            const timer = document.getElementById('dialogue-timer');
            const mainMenu = document.getElementById('main-menu');
            
            // éš±è—ä¸»é¸å–®
            mainMenu.style.display = 'none';
            dialogue.style.display = 'flex';
            
            // çˆ¶è¦ªçš„éºè¨€
            const messages = [
                'å­©å­ï¼Œå¦‚æœä½ çœ‹åˆ°é€™æ®µå½±ç‰‡ï¼Œä»£è¡¨æˆ‘å·²ç¶“ä¸åœ¨äº†...',
                'é€™å€‹åŸå¸‚å¾ˆæ®˜é…·ï¼Œä½†è¨˜ä½ï¼Œåšäººè¦æœ‰åº•ç·šã€‚',
                'åˆ¥ç¢°æ¯’å“ï¼Œé‚£æ˜¯åº•ç·šã€‚',
                'éŒ¢èƒ½è§£æ±ºçš„ï¼Œéƒ½ä¸æ˜¯å•é¡Œã€‚',
                'é€™åŸå¸‚ï¼Œå°Šé‡æ¯”ææ‡¼æ›´é‡è¦ã€‚',
                'æœ‰ç¾äººï¼Œè¨˜å¾—å¸¶å›å®¶çµ¦ä½ åª½çœ‹çœ‹ã€‚',
                'æ‹³é ­æ˜¯ç¡¬é“ç†ï¼Œä½†è…¦å­æ›´é‡è¦ã€‚',
                'æˆ‘ç•™çµ¦ä½ çš„ï¼Œä¸åªæ˜¯é€™å€‹å¹«æ´¾ï¼Œé‚„æœ‰æˆ‘çš„ä¿¡å¿µã€‚',
                'ç¾åœ¨ï¼Œé¸æ“‡ä½ è‡ªå·±çš„é“è·¯å§...',
                'è¨˜ä½ï¼Œæˆ‘æ°¸é ä»¥ä½ ç‚ºæ¦®ã€‚'
            ];
            
            let currentIndex = 0;
            let timeLeft = 12;
            
            // æ›´æ–°å°è©±å…§å®¹
            const updateDialogue = () => {
                if (currentIndex < messages.length) {
                    dialogueText.textContent = messages[currentIndex];
                    currentIndex++;
                }
            };
            
            // åˆå§‹é¡¯ç¤º
            updateDialogue();
            
            // æ¯1.2ç§’æ›ä¸€å¥
            const dialogueInterval = setInterval(updateDialogue, 1200);
            
            // å€’è¨ˆæ™‚
            const countdownInterval = setInterval(() => {
                timeLeft--;
                timer.textContent = `${timeLeft} ç§’å¾Œé€²å…¥è·¯ç·šé¸æ“‡...`;
                
                if (timeLeft <= 0) {
                    clearInterval(dialogueInterval);
                    clearInterval(countdownInterval);
                    
                    // é€²å…¥è·¯ç·šé¸æ“‡
                    dialogue.style.display = 'none';
                    this.showRouteSelection();
                }
            }, 1000);
        },

        // é¡¯ç¤ºè·¯ç·šé¸æ“‡
        showRouteSelection() {
            const routeSelection = document.getElementById('route-selection');
            const container = document.getElementById('routes-container');
            
            routeSelection.style.display = 'block';
            
            // ç”Ÿæˆè·¯ç·šå¡ç‰‡
            container.innerHTML = '';
            Object.values(ROUTES_DATA).forEach(route => {
                const card = this.createRouteCard(route);
                container.appendChild(card);
            });
        },

        // å‰µå»ºè·¯ç·šå¡ç‰‡
        createRouteCard(route) {
            const card = document.createElement('div');
            card.style.cssText = `
                background: linear-gradient(135deg, ${route.color}20, ${route.color}05);
                border: 3px solid ${route.color};
                border-radius: 15px;
                padding: 25px;
                cursor: pointer;
                transition: all 0.3s;
                position: relative;
                overflow: hidden;
            `;
            
            card.innerHTML = `
                <div style="font-size: 48px; text-align: center; margin-bottom: 15px;">${route.icon}</div>
                <h3 style="color: ${route.color}; font-size: 26px; text-align: center; margin-bottom: 10px;">${route.name}</h3>
                <p style="color: var(--gray); text-align: center; font-style: italic; margin-bottom: 20px; font-size: 16px;">${route.quote}</p>
                <p style="color: var(--text); line-height: 1.8; margin-bottom: 20px; font-size: 14px;">${route.description}</p>
                
                <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                    <div style="color: var(--gold); font-weight: bold; margin-bottom: 10px; font-size: 16px;">èµ·å§‹è³‡æº</div>
                    <div style="color: var(--text); font-size: 14px; line-height: 1.8;">
                        ğŸ’° ${route.bonuses.money.toLocaleString()} | 
                        ğŸ–ï¸ ${route.bonuses.reputation} | 
                        ğŸ‘¥ ${route.bonuses.crew}äºº
                    </div>
                </div>
                
                <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px;">
                    <div style="color: var(--gold); font-weight: bold; margin-bottom: 10px; font-size: 16px;">ç‰¹æ®ŠåŠ æˆ</div>
                    <div style="color: var(--text); font-size: 13px; line-height: 1.8;">
                        ${Object.entries(route.bonuses.special).map(([key, value]) => 
                            `â€¢ ${key}: <span style="color: ${route.color};">${value}</span>`
                        ).join('<br>')}
                    </div>
                </div>
                
                <button style="width: 100%; margin-top: 20px; padding: 15px; background: ${route.color}; border: none; color: #fff; font-size: 18px; font-weight: bold; border-radius: 8px; cursor: pointer; transition: all 0.3s;">
                    é¸æ“‡æ­¤è·¯ç·š ${route.icon}
                </button>
            `;
            
            // æ‡¸åœæ•ˆæœ
            card.addEventListener('mouseenter', () => {
                card.style.transform = 'translateY(-10px)';
                card.style.boxShadow = `0 15px 40px ${route.color}80`;
            });
            
            card.addEventListener('mouseleave', () => {
                card.style.transform = 'translateY(0)';
                card.style.boxShadow = 'none';
            });
            
            // é»æ“Šé¸æ“‡è·¯ç·š
            card.addEventListener('click', () => {
                this.selectRoute(route.id);
            });
            
            return card;
        },

        // é¸æ“‡è·¯ç·š
        selectRoute(routeId) {
            this.selectedRoute = routeId;
            const route = ROUTES_DATA[routeId];
            
            // éš±è—è·¯ç·šé¸æ“‡
            document.getElementById('route-selection').style.display = 'none';
            
            // é¡¯ç¤ºå‘½åç•«é¢
            this.showNamingScreen(route);
        },

        // é¡¯ç¤ºå‘½åç•«é¢
        showNamingScreen(route) {
            const namingScreen = document.getElementById('naming-screen');
            namingScreen.style.display = 'flex';
            
            // è¨­ç½®é è¨­å€¼
            document.getElementById('gang-name-input').value = 'é¾é–€å¹«';
            document.getElementById('player-name-input').value = 'è€å¤§';
            
            // èšç„¦åˆ°å¹«æ´¾åç¨±è¼¸å…¥æ¡†
            setTimeout(() => {
                document.getElementById('gang-name-input').focus();
                document.getElementById('gang-name-input').select();
            }, 100);
        },

        // ç¢ºèªå‘½åä¸¦é–‹å§‹éŠæˆ²
        confirmNaming() {
            const gangName = document.getElementById('gang-name-input').value.trim();
            const playerName = document.getElementById('player-name-input').value.trim();
            
            if (!gangName) {
                Toast.error('è«‹è¼¸å…¥å¹«æ´¾åç¨±');
                return;
            }
            
            if (!playerName) {
                Toast.error('è«‹è¼¸å…¥ä½ çš„ç¨±è™Ÿ');
                return;
            }
            
            if (gangName.length > 8) {
                Toast.error('å¹«æ´¾åç¨±ä¸èƒ½è¶…é8å€‹å­—');
                return;
            }
            
            if (playerName.length > 6) {
                Toast.error('ç¨±è™Ÿä¸èƒ½è¶…é6å€‹å­—');
                return;
            }
            
            // éš±è—å‘½åç•«é¢
            document.getElementById('naming-screen').style.display = 'none';
            
            // é–‹å§‹éŠæˆ²
            LoadingScreen.show('æ­£åœ¨åˆå§‹åŒ–éŠæˆ²ä¸–ç•Œ...');
            
            setTimeout(() => {
                const success = GameState.newGame(this.selectedRoute, gangName, playerName);
                
                if (success) {
                    LoadingScreen.hide();
                    const route = ROUTES_DATA[this.selectedRoute];
                    Toast.success(`${route.icon} æ­¡è¿ä¾†åˆ° ${gangName}ï¼`, 2000);
                    
                    // è·³è½‰åˆ°éŠæˆ²ç•«é¢
                    setTimeout(() => {
                        window.location.href = '/game-main.html';
                    }, 2000);
                } else {
                    LoadingScreen.hide();
                    Toast.error('éŠæˆ²åˆå§‹åŒ–å¤±æ•—');
                }
            }, 1500);
        },

        // å–æ¶ˆå‘½å
        cancelNaming() {
            document.getElementById('naming-screen').style.display = 'none';
            this.showRouteSelection();
        },

        // å–æ¶ˆè·¯ç·šé¸æ“‡
        cancelRouteSelection() {
            document.getElementById('route-selection').style.display = 'none';
            document.getElementById('main-menu').style.display = 'flex';
        },

        // ç¹¼çºŒéŠæˆ²
        continueGame() {
            const latestSave = GameState.getLatestSave();
            
            if (!latestSave) {
                Toast.error('æ‰¾ä¸åˆ°å­˜æª”');
                return;
            }

            LoadingScreen.show('è¼‰å…¥å­˜æª”ä¸­...');
            
            setTimeout(() => {
                const success = GameState.load(latestSave.id);
                
                if (success) {
                    LoadingScreen.hide();
                    Toast.success('å­˜æª”è¼‰å…¥æˆåŠŸï¼');
                    
                    // è·³è½‰åˆ°éŠæˆ²ç•«é¢
                    setTimeout(() => {
                        window.location.href = '/game-main.html';
                    }, 800);
                } else {
                    LoadingScreen.hide();
                    Toast.error('å­˜æª”è¼‰å…¥å¤±æ•—');
                }
            }, 1500);
        },

        // é¡¯ç¤ºå¤¥ä¼´åœ–é‘‘
        showPartnerGallery() {
            Toast.show('å¤¥ä¼´åœ–é‘‘åŠŸèƒ½é–‹ç™¼ä¸­...', 2000);
            // TODO: é¡¯ç¤ºå¤¥ä¼´åœ–é‘‘ç•«é¢
        },

        // é¡¯ç¤ºæˆå°±æ®¿å ‚
        showAchievements() {
            Toast.show('æˆå°±æ®¿å ‚åŠŸèƒ½é–‹ç™¼ä¸­...', 2000);
            // TODO: é¡¯ç¤ºæˆå°±æ®¿å ‚ç•«é¢
        },

        // é¡¯ç¤ºè¨­å®š
        showSettings() {
            Toast.show('è¨­å®šåŠŸèƒ½é–‹ç™¼ä¸­...', 2000);
            // TODO: é¡¯ç¤ºè¨­å®šç•«é¢
        },

        // åˆå§‹åŒ–ä¸‹é›¨å‹•ç•«
        initRain() {
            const rainContainer = document.getElementById('rain');
            const dropCount = 100; // é›¨æ»´æ•¸é‡

            for (let i = 0; i < dropCount; i++) {
                const drop = document.createElement('div');
                drop.className = 'raindrop';
                
                // éš¨æ©Ÿä½ç½®
                drop.style.left = Math.random() * 100 + '%';
                
                // éš¨æ©Ÿå»¶é²
                drop.style.animationDelay = Math.random() * 2 + 's';
                
                // éš¨æ©ŸæŒçºŒæ™‚é–“
                drop.style.animationDuration = (Math.random() * 1 + 1) + 's';
                
                // éš¨æ©Ÿé€æ˜åº¦
                drop.style.opacity = Math.random() * 0.5 + 0.3;
                
                rainContainer.appendChild(drop);
            }
        }
    };

    // é é¢è¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', () => {
        menuController.init();
    });
    </script>
</body>
</html>
